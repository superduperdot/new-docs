---
title: 'Authentication'
---

<p class="intro-subheading">
  The Brale API uses Bearer Authentication and API keys to authenticate your requests. Tokens are
  short-lived (~60 minutes); refresh automatically using <code>expires_in</code>.
</p>

## API Keys

Your ability to authenticate to the API is granted through an API Key associated with an Application. Applications are specific to testnet or mainnet access, and have a specific set of permissions. You can create multiple API applications within the dashboard, each assigned specific API scopes.

## Environment (Testnet vs Mainnet)

The base URL is the **same** for both testnet and mainnet:

| | URL |
|---|---|
| Auth | `https://auth.brale.xyz` |
| API | `https://api.brale.xyz` |

Your **API credentials determine which environment you are operating in** — not the URL. A testnet application's credentials will give you testnet behavior; mainnet credentials give you mainnet behavior.

<Warning title="Common Confusion">
Account IDs (e.g., `2s55NaiUtTNSIKKGy0iajrRyHq9`) can appear identical across testnet and mainnet. This does **not** mean the environments are shared — it means the same underlying account exists in both. The credentials you authenticate with determine which environment's data and behavior you access. Never assume an account_id implies a specific environment.
</Warning>

## Create API Credentials

Create an application on the Settings page in the Dashboard. Brale will make your API key available only once. Please save the key in a secure location.

![Image](/images/brale/settings-api-credentials-dark@2x.png)

## Obtain an Access Token

Brale uses OAuth2 with the `client_credentials` grant type for secure access to our APIs. Sending a request to the Auth endpoint will return a bearer token to be used on all subsequent calls. The response will include the number of remaining seconds that the token is valid before a new one will need to be retrieved.

The Authorization header uses Basic HTTP Authentication. This requires encoding your `client_id` and `client_secret` into a Base64 format.

To generate the Base64 encoded string, you can use a command-line tool like base64 or an online encoder. Ensure that your `client_id` and `client_secret` are separated by a colon `:` and then encoded. This encoded string will be used in the Authorization header.

```shell
curl --request POST \
  --url https://auth.brale.xyz/oauth2/token \
  --header 'Authorization: Basic ${BASE_64_OF(client_id:client_secret)}' \
  --header 'Content-Type: application/x-www-form-urlencoded' \
  --data grant_type=client_credentials
```

```json title="Response (200)"
{
  "access_token": "ory_at_...",
  "expires_in": 3599,
  "scope": "",
  "token_type": "bearer"
}
```

| Field | Type | Description |
|-------|------|-------------|
| `access_token` | string | Bearer token (prefix: `ory_at_`) |
| `expires_in` | integer | Seconds until expiry (~3599 = 1 hour) |
| `scope` | string | Granted scopes (may be empty string) |
| `token_type` | string | Always `"bearer"` |

If credentials are invalid or missing, the auth endpoint returns a standard OAuth2 error (RFC 6749):

```json title="Error (400)"
{
  "error": "invalid_request",
  "error_description": "Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body."
}
```

## Authenticated Requests

Include the bearer token in the `Authorization` header of your API requests.

```shell
curl --request GET \
  --url https://api.brale.xyz/accounts \
  --header 'Authorization: Bearer ${ACCESS_TOKEN}'
```

## Token Expiration

Access tokens are short-lived and expire ~60 minutes after issuance.

When a token expires:

- API calls will return a `401 Unauthorized` error.
- Your application should request a new token using the same client credentials before retrying the request.
- Best practice is to refresh automatically before expiry using `expires_in` and to retry idempotently after refresh.
